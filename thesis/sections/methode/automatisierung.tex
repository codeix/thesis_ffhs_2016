\section{Automatisierung der Messung}
\label{sec:automatisierung}

Die Automatisierung der Messungen ist nicht ein notwendiges Element. Jeder Benchmark kann von Hand ausgeführt werden und parallel die Messung vorgenommen werden. Die Automatisierung soll aber helfen eine grössere Menge an Tests effizient vornehmen zu können. Ein sehr Wichtiger bestand der Automatisierung ist die Wiederholung von Tests. So kann eine Aussage gemacht werden, dass die Messung auch durch eine Wiederholung das selbe Resultat liefert und nicht von Störfaktoren beeinträchtigt wurde. Auch vereinfacht die Automatisierung die Anpassung von Test und erspart viel Zeit nachdem eine Ergänzung vorgenommen werden musste. Der Output erfolgt in Form von CSV-Dateien, die später in Diagramme dargestellt werden können.
\par
Für die Automatisierung wurde ein Python-Programm geschrieben, der auf ein zusätzlichen Computer ausgeführt wird. Der Computer ist mit einem Amperemeter (Multimeter) verbunden und hat über eine Remoteshell Zugang zum Board. Die Benchmarks in Form eines Kernelmoduls sind bereits auf dem Board installiert und können über das \texttt{procfs} gestartet werden. Die folgende List zeigt den Ablauf der automatisierte Durchführung der Messung:


\begin{enumerate}
\item Anhand der selben Konfiguration-Dateien, die beim generieren der Benchmark-Source-Code verwendet wurden, wird zufällig die Reihenfolge für die Durchführung der Benchmark bestimmt. Dabei wird jeder Benchmark drei mal in dieser Reihenfolge hinzugefügt.
\item Der Reihenfolge nach wird ein Benchmark auf ein ausgewähltes Board ausgeführt. Die Durchführung dauert in der Regel 120 Sekunden. Die genau Durchführungszeit wird aber im Benchmark selber gemessen.
\item Parallel zur Durchführung des Benchmark wird im ungefähren Sekundentakt\footnote{Das Messgerät sendet die Daten als RS-232-Protokoll über eine USB-Schnittstelle. Mit dem hier verwendeten Messgerät hat man keine Einfluss über die Sendeperiode.} der Strom gemessen. Dieser erfolgt über eine USB-Schnittstelle zum Amperemeter (Multimeter). Die Daten werden zwischen gespeichert, bis sie zum Schluss in einer CSV-Datei geschrieben werden können.
\item Der Benchmark hat nach Durchführung, die verwendete Zeit als Rückgabewert. Dieser Wert entspricht der sehr genau Durchführungszeit und wird ebenfalls Zwischengespeichert damit sie zum Schluss in einer Datei gespeichert werden kann.
\item Nach der Durchführung wird eine Pause von einer Minute eingelegt. Diese Pause ist wichtig damit alle Benchmarks gleich behandelt werden. Durch die Durchführung eines Benchmarks kann die Temperatur des Board erheblich ansteigen. Werden die Benchmarks ohne Zwischenpause der reihe nach ausgeführt, kann es zu verzerrte Messwerte führen.
\item Die Schritte werden Wiederholt bis alle Benchmarks drei Mal durchlaufen worden sind. Sind alle Benchmarks abgearbeitet werden die Daten, die Zwischengespeichert worden sind, strukturiert und in Dateien geschrieben.
\end{enumerate}