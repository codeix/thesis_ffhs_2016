%Vorlage fuer Thesen an der FFHS
\documentclass[class=minimal,border=0pt]{standalone}

\usepackage[utf8]{inputenc}

% addional configuration from sam
\usepackage{bibgerm}
\usepackage{hyperref}
\usepackage{cite}
\usepackage{etoolbox}
\usepackage{listings}
\usepackage{float}%
\usepackage{verbatim}
\usepackage{filecontents}
\usepackage{siunitx}
\sisetup{per=slash, load=abbr}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=newest}
\usepackage[autostyle=true,german=quotes]{csquotes}
\usepackage{multirow}
\usepackage{hhline}
\usepackage{amsmath}
\RequirePackage{helvet}
\renewcommand{\familydefault}{\sfdefault}



\begin{document}

\input{../template/custom-colors.tex}


\begin{filecontents}{dataset}
Pos	Name	Bench1	Bench2	Bench3	time1	time2	time3	medbench	medtime	energymWh	power
1	nop	431.9	432	432	129147	129147	129147	432	129.147	98.565	2.74752
2	nop\_nop	430.2	430.4	430.3	145291	145291	145291	430.3	145.291	110.45	2.736708
3	nop\_nop\_nop	431.1	431.1	431.1	161435	161434	161434	431.1	161.434	122.95	2.741796
4	addl\_0	431.4	431.8	431.5	145292	145291	145291	431.5	145.291	110.758	2.74434
5	addl\_32	435.3	435.2	435.5	145291	145291	145291	435.3	145.291	111.733	2.768508
6	subl\_0	431.4	432.1	431.4	145291	145291	145292	431.6	145.291	110.783	2.744976
7	subl\_32	435	435.2	435.3	145291	145291	145291	435.2	145.291	111.707	2.767872
8	shr\_0	432.8	432.8	433.5	177578	177579	177579	432.9	177.579	135.811	2.753244
9	shr\_32	432.7	432.6	432.9	177578	177578	177578	432.7	177.578	135.747	2.751972
10	shl\_0	433.1	432.9	432.9	177579	177579	177579	432.9	177.579	135.811	2.753244
11	shl\_32	432.7	432.9	433.2	177578	177578	177578	432.9	177.578	135.81	2.753244
12	imull\_0	427.9	427.3	427.4	226008	226008	226008	427.4	226.008	170.653	2.718264
13	imull\_32	429.7	429.5	429.9	226008	226008	226008	429.7	226.008	171.571	2.732892
14	inc\_8	436.4	435.6	435.7	145292	145291	145291	435.9	145.291	111.887	2.772324
15	dec\_8	433.9	434.4	434.6	161434	161434	161434	434.4	161.434	123.891	2.762784
16	and\_0	434.7	435.2	435.1	145292	145291	145291	435	145.291	111.656	2.7666
17	and\_32	428.6	429.7	430.6	145291	145291	145292	429.7	145.291	110.296	2.732892
18	or\_0	436	435.3	434.9	145291	145291	145291	435.35	145.291	111.746	2.768826
19	or\_32	429.8	431.2	431.4	145291	145291	145291	431.1	145.291	110.655	2.741796
20	xor\_0	432.5	431.5	431.5	145291	145292	145292	431.6	145.292	110.784	2.744976
21	xor\_32	434.2	435	435	145291	145292	145291	434.7	145.291	111.579	2.764692
\end{filecontents}



    \begin{tikzpicture} 
        \begin{axis}[
            ybar,
            scale only axis,
            xlabel= Benchmarks,
            width = 1.5\textwidth,
            height = 0.5\textwidth,
            ylabel= Leistungsverbrauch in W,
            yticklabel style={/pgf/number format/fixed},
            y axis line style=blau_2b!100!black,
            % height = 80mm,
            ymin = 2.716264,
            ymax = 2.772324,
            xmin = 0,
            xmax = 22,
            bar width = 2mm,
            axis x line* = bottom,
            axis y line* = left,
            xticklabel style={rotate=90},
            xticklabels from table = {dataset}{Name},
            xtick = {1,...,23},
            bar shift = 0mm,
            legend style = {at={(0.5, 1.025)}, anchor = south east, legend columns = -1, draw=none, area legend},
            area legend,
            extra y ticks ={2.716264},
            extra y tick style = {grid=none, yticklabel style={yshift=2.5mm, xshift=1.9mm, rotate=0, inner sep=.5pt}},
            extra y tick labels = {\includegraphics{almost_equals.eps}}
            ]
            \addplot+[mark=none, fill=blau_2a, draw = blau_2b] table[x=Pos, y=power, fill=red] {dataset};
            \legend{Leistungsverbrauch}
        \end{axis} 
        \begin{axis}[
            ybar,
            scale only axis,
            y axis line style=gruen_4b!100!black,
            width = 1.5\textwidth,
            height = 0.5\textwidth,
            axis y line* = right,
            axis x line = none,
            ylabel = Durchlaufszeit in S,
            % height = 80mm,
            xmin = 0,
            xmax = 22,
            ymin = 0,
            xticklabel style={rotate=90},
            xticklabels from table = {dataset}{Name},
            xtick = {1,...,23},
            ymax = 240.008,
            ymin = 126.147,
            bar width = 2mm,
            bar shift = 2mm,
            legend style = {at={(0.5, 1.025)}, anchor = south west, legend columns = -1, draw=none, area legend},
            area legend,
            extra y ticks ={126.147},
            extra y tick style = {grid=none, yticklabel style={yshift=2.5mm, xshift=-1.6mm, rotate=0, inner sep=.5pt}},
            extra y tick labels = {\includegraphics{almost_equals.eps}},
            ]
            \addplot+[mark=none,  fill=gruen_4a, draw = gruen_4b,] table[x=Pos, y=medtime] {dataset};
            \legend{Durchlaufszeit}
        \end{axis}


        \begin{axis}[
            ybar,
            at={(-20mm,0mm)},
            scale only axis,
            y axis line style=orange_6b!100!black,
            width = 1.5\textwidth,
            height = 0.5\textwidth,
            axis y line* = left,
            axis x line = bottom,
            ylabel = Energieverbrauch in mW/h,
            % height = 80mm,
            xmin = 0,
            xmax = 22,
            ymin = 0,
            xticklabels = ,
            xtick = {0,...,23},
            xmajorticks=false,
            ymax = 230,
            ymin = 60,
            bar width = 2mm,
            bar shift = 18mm,
            legend style = {at={(0.25, 1.025)}, anchor = south west, legend columns = -1, draw=none, area legend},
            area legend,
            extra y ticks ={60},
            ytick = {65,75,...,230},
            extra y tick style = {grid=none, yticklabel style={yshift=2.5mm, xshift=2mm, rotate=0, inner sep=.5pt}},
            extra y tick labels = {\includegraphics{almost_equals.eps}},
            ]
            \addplot+[mark=none,  fill=orange_6a, draw = orange_6b,] table[x=Pos, y=energymWh] {dataset};
            \legend{Energieverbrauch}
        \end{axis}



    \end{tikzpicture}





\end{document}


